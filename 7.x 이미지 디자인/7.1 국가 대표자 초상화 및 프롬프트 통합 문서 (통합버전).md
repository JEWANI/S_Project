### **7.1 국가 대표자 초상화 및 프롬프트 통합 문서 (통합버전)**

#### **목표:**

국가 대표자 초상화 생성 및 관련 프롬프트의 관리 시스템을 통합하여, **STELLAR PROFITS** 프로젝트 내에서 일관된 캐릭터 디자인과 프롬프트 사용을 보장합니다. 이 문서는 **국가별 대표자 초상화**를 생성하는 표준 절차와 해당 프롬프트 버전 관리를 제공합니다.

#### **1. 모델 및 설정**

- **모델:** `majicmixReverie_v10`
    
- **해상도:** 512×768
    
- **샘플러:** `DPM++ 2M Karras`
    
- **스텝:** 28
    
- **CFG:** 6.5
    
- **VAE:** `orange.max.vae` (혹은 `orangemix.vae.pt`로 더 높은 채도 적용)
    

#### **2. 프롬프트 통합**

- **Positive Prompt (기본 인물 버전):**
    
    `(masterpiece, best quality, 2D anime style, cel-shading, clean outlines, flat colors, soft lighting, half body portrait of a beautiful intelligent woman, calm and composed expression, short half-up light blue and silver hair, bright gray-blue eyes, gentle smile, slim but toned body, wearing futuristic PMC officer suit, metallic fabric with subtle glow lines on arms, open collar, sitting or standing with calm poise, soft bluish HUD lights in the background, elegant sci-fi tone, warm and confident aura, subtle sensual charm, sophisticated look, professional atmosphere)`
    
- **Negative Prompt:**
    
    `(bad quality, low quality, worst quality, deformed, blurry, extra limbs, bad anatomy, nsfw, nude, open clothes, watermark, logo, text, cropped, signature, artifacts, cartoonish face, extra fingers, mutation, doll-like skin, people, human crowd, background characters)`
    

#### **3. 프롬프트 버전 관리**

- **버전 관리 시스템**:
    
    - 프롬프트의 **변경 이력**을 기록하고 관리합니다. 버전 업데이트 시, **버전 번호**, **프롬프트의 변경 사항**, **프롬프트 테스트 결과** 등을 기록합니다.
        
    - **파일 포맷:** JSON, CSV 또는 텍스트 포맷을 사용하여 프롬프트 버전을 기록합니다. 각 프롬프트에 대한 고유한 ID가 부여되어, 같은 국가 대표자라도 여러 프롬프트 버전이 관리될 수 있습니다.
        
- **프롬프트 버전 예시:**
    
    - **v1.0**: 초기 프롬프트 버전
        
    - **v1.1**: 소프트 조명 추가, 의상 색상 변경
        
    - **v1.2**: 헤어스타일 변경, 표정 미세 조정
        

#### **4. 인물 생성 흐름**

- **프롬프트 최적화**: 생성된 인물 초상화는 매번 생성 후 **긍정적 프롬프트**와 **부정적 프롬프트**를 기준으로 평가되고, **A/B 테스트**를 통해 개선됩니다.
    
- **배경 설정**: 각 국가의 **문화적/지리적 배경**에 맞는 배경 설정을 포함합니다. 배경 프롬프트는 인물의 성격과 일치하는 분위기를 반영하여 세밀히 설정됩니다.
    

#### **5. 파일 포맷 및 저장**

- **파일 포맷:** 각 국가 대표자의 초상화 파일은 고해상도 이미지 형식으로 저장됩니다.
    
    - **저장 경로 예시:**  
        `Assets/Art/Characters/Narrators/Claire/{NationCode}/Portraits/`
        

#### **6. 통합 시스템**

- **A1111(webUI)**와의 통합: 이 시스템은 **ComfyUI**와 연결되어, **A1111** 모델을 통해 인물 초상화를 실시간으로 생성하고 **프롬프트**를 자동으로 관리합니다. 각 국가의 대표자 초상화는 **ComfyUI** 내에서 선택된 프롬프트 버전으로 생성됩니다.
    

---

### **통합 내용 요약:**

1. **초상화 생성 모델:** `majicmixReverie_v10` 사용, 기본적인 스타일 설정 및 모델 파라미터 정의.
    
2. **프롬프트 통합 관리:** 기본적인 프롬프트와 그에 따른 부정적 프롬프트 설정. 각 국가의 초상화는 **Positive/Negative Prompt**를 기준으로 생성.
    
3. **버전 관리:** 프롬프트의 다양한 버전을 기록하고 관리하며, 변경 사항을 기록하여 추적.
    
4. **배경 설정 및 일관성 유지:** 각 국가의 문화적 배경을 고려한 설정. 인물의 성격과 의상, 분위기 등을 반영하여 일관되게 프롬프트 적용.