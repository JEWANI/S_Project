
본 문서는 STELLAR PROFITS(이하 S프로젝트)의 **행성 확장(Colonization & Expansion)** 및 **자원 기반 기술(Tech-by-Resource)** 파트에 필요한 핵심 수식 정의를 제공한다. v1.0은 실전 밸런싱의 시작점을 제시하며, 2.1.3 경제 루프 및 2.4 정치·조약 시스템과의 연동은 2.3-B에서 후속 정의한다.

---

## 2.3-A. 확장·채굴·연구·반란 수식 세트 (Formula Set v1.0)

### A1) 행성 확장 비용 (Colonization Cost)

**정의**

```
C_expand = (BaseCost × (1 + Level^1.5)) × (1 + DistFactor + RiskFactor)
```

**변수**

- `BaseCost` : 기본 확장 비용(국가 기술레벨/정책에 따름, 예: 5,000Cr)
    
- `Level` : 행성 개발 레벨(0~5)
    
- `DistFactor` : 모성계 기준 거리 계수(점프 1당 +0.05 권장)
    
- `RiskFactor` : 환경·치안·방사선 등 위험 계수(0.00~0.30)
    

**해설**

- Level 1에서 ~1.5배, Level 5에서 ~6.6배. 거리·위험까지 포함 시 최대 10배 내외.
    
- 기업/PMC 정책(2.5)으로 Dist/Risk를 일부 상쇄 가능.
    

---

### A2) 자원 채굴 생산량 (Resource Yield)

**정의**

```
Y = (R_base × NodeQuality × (1 + PopProd + InfraBoost)) × (1 - DepleteRate)
```

**변수**

- `R_base` : 자원 기본 생산량(예: 아디만튼 100/턴, 네비트론 60/턴 등)
    
- `NodeQuality` : 노드 등급(핵심 1.20 / 보조 1.00 / 희귀 0.80)
    
- `PopProd` : 인구 생산성 보정(0.00~0.30, 개발 레벨 의존)
    
- `InfraBoost` : 기반시설 보너스(0.00~0.25, 연구·건설 영향)
    
- `DepleteRate` : 고갈율(0.02~0.08/턴; 희귀일수록 높음)
    

**해설**

- 안정 행성은 1.5배까지 상승 가능. 과다 채굴 시 3턴 후 0.8배로 하락.
    
- 2.1.3의 소비/유통 압력과 결합해 ‘과소비→가격 상승→채굴 압박’ 루프를 형성.
    

---

### A3) 연구 가속도 (Research Acceleration)

**정의**

```
R_speed = Base × (1 + Σ(ResourceBonus) + LevelBonus + StabilityBonus)
```

**변수**

- `Base` : 기본 연구속도(1.0 = 100%)
    
- `ResourceBonus` : 자원 보유 가속(예: 루시움 +0.25, 네비트론 +0.10 등 Tech-by-Resource 표 연동)
    
- `LevelBonus` : 개발 레벨 보너스(+0.05 × Level)
    
- `StabilityBonus` : 치안 80 이상일 때 +0.10, 90 이상 +0.15 (권장)
    

**해설**

- 루시움 보유 + 안정 행성 + Lv5 개발 시 ≈ 1.6배.
    
- 2.4의 조약/제재에 의해 ResourceBonus가 상·하향될 수 있음.
    

---

### A4) 반란 확률 (Rebellion Chance)

**정의**

```
P_rebel = Base × (1 + TaxRate + Instability + ExploitFactor - GarrisonFactor)
```

**변수**

- `Base` : 기본 반란 확률(0.02 = 2%)
    
- `TaxRate` : 과세율(0.00~0.50)
    
- `Instability` : 치안 50 미만 구간 보정(0.20~1.00)
    
- `ExploitFactor` : 과다 채굴 리스크(최대 +0.30)
    
- `GarrisonFactor` : 주둔군 감쇠(-0.20~0.80)
    

**해설**

- 무리한 과세·채굴 조합 시 20% 이상까지 급등 가능.
    
- 2.4 외교 개입/치안 지원으로 Instability를 빠르게 낮출 수 있음.
    

---

## 2.3-B. 연동 노트 (초안)

- **경제 루프(2.1.3)**: A2 생산량은 ‘유통→소비’ 단계 가격/수요에 피드백. 과다 소비는 `DepleteRate↑` 유도.
    
- **정치·조약(2.4)**: 제재 시 `ResourceBonus↓`, 우호 조약 시 `InfraBoost↑` 등의 정책성 가중치 제공.
    
- **기업·PMC 통제(2.5)**: 계약/지분/명령으로 Dist/Risk/Garrison/Tax에 정책 스윙을 적용.
    

---

### 버전

- v1.0 (2025-10-24, Asia/Seoul): A1~A4 수식 정의. 연동 노트(초안) 추가.
    

> 다음 버전 예고: 2.3-C(수치 테이블 샘플), 2.3-D(AI 확장 정책 로직/의사코드)

---

## 2.3-B. 시스템 연동 구조 (Economic/Political Integration v1.0)

> 목적: 2.3 수식(A1~A4)을 **2.1.3 경제 루프**와 **2.4 정치·조약 시스템**에 연결해 실제 시뮬레이션에서 상호작용이 즉시 발생하도록 한다.

### B1) 경제 루프(2.1.3) 연동

**핵심 연결 변수**

- `Y` (A2 산출): 유통 단계의 **공급량(Supply)** 로 투입
    
- `LogiCost` : 물류비(거리·안전), 가격함수의 비용항에 합산
    
- `Price` : 루프 내부 결정; `Price = BasePrice × (1 + κ_d·DemandGap − κ_s·SupplyGap + κ_l·LogiCost)`
    
    - `DemandGap = (Demand − TargetDemand)/TargetDemand`
        
    - `SupplyGap = (Y − TargetSupply)/TargetSupply`
        
    - `κ_d, κ_s, κ_l` : 민감도(기본 0.4/0.35/0.15 권장)
        
- `DepleteRate` (A2) : 3턴 연속 **Price↑ & DemandGap↑**일 때 +Δ(최대 +0.04) 가속
    

**루프 피드백 규칙**

1. **가격상승 → 채굴압박**: `Price↑`가 2턴 지속되면 행성은 `InfraBoost` 투자 결정을 시도(성공 시 +0.05~0.10, 실패 시 무효)
    
2. **과다공급 → 가격하락**: `SupplyGap↑`가 2턴 지속되면 `DepleteRate` 자연감소(−0.01, 최저 0.01)
    
3. **물류악화 → 가격상승**: `LogiCost↑`(해적·치안 저하) 시 `Price`가 즉각 반응, `Demand`는 1턴 지연 반응(대체재 탐색)
    

**물류비(참조)**  
`LogiCost = α·DistFactor + β·(100 − Security)/100 + γ·PiracyIndex`

- α=0.05, β=0.20, γ=0.25(권장)
    

---

### B2) 정치·조약(2.4) 연동

**정책/조약 계수**

- **무역협정(FTA)**: `LogiCost × (1 − τ_trade)`, `InfraBoost + δ_infra` (τ=0.10~0.20, δ=+0.03)
    
- **제재/봉쇄(Embargo)**: `ResourceBonus × (1 − τ_sanction)`, `PriceFloor = BasePrice × (1 + φ)` (τ=0.15~0.40, φ=0.10)
    
- **치안지원 파견**: `GarrisonFactor + δ_garrison`(+0.10~0.30), `Instability − δ_stab`(−0.10~0.25)
    
- **조세 협약**: `TaxRate` 상·하한 변경(±0.05), 과세 충격을 완만화(Instability 상한 −0.1)
    

**정치 이벤트 트리거**

- **자원 무기화**: 특정 자원 Price가 `+40%` 이상 3턴 지속 → 2.4 이벤트 _자원 규제/수출쿼터_ 발동 후보
    
- **반란 전조**: `P_rebel ≥ 0.15` 2턴 지속 → 2.1.4의 _치안 붕괴_ 미시 이벤트 큐에 등록
    
- **조약 재협상**: `LogiCost`가 2턴 평균 0.25↑ → 외교 패널에 _물류비 경감 협상_ 옵션 노출
    

---

### B3) 2.5 기업·PMC 통제와의 정책 훅(Hook)

정책이 A1~A4에 미치는 표준 훅:

- **투자 명령(Infra Investment)** → `InfraBoost += 0.05`(성공률 70%, 실패 시 0)
    
- **치안 작전(Security Op.)** → `GarrisonFactor += 0.15`, `Instability −= 0.15`(2턴 지속)
    
- **과세 조정(Tax Directive)** → `TaxRate ±= 0.05`(즉시), 2턴 뒤 `Demand −= 0.03`(소비 위축)
    
- **채굴 페이스 조절(Exploit Throttle)** → `DepleteRate −= 0.01` 또는 `Y +5%` 중 택1(서로 배타)
    

---

### B4) 데이터 인터페이스(시트/런타임)

런타임 교환 필드(요약):

- From 2.3 → 2.1.3: `Y, DepleteRate, LogiCost, InfraBoost`
    
- From 2.1.3 → 2.3: `Price, DemandGap, SupplyGap`
    
- From 2.4/2.5 → 2.3: `τ_trade, τ_sanction, δ_infra, δ_garrison, δ_stab, Tax caps`
    

ScriptableObject 권장 필드(요지):

- `PlanetEconomyState`: `price, demandGap, supplyGap, logiCost`
    
- `PlanetSecurityState`: `security, instability, garrison`
    
- `ResourceNodeState`: `rBase, nodeQuality, infraBoost, depleteRate, yield`
    

---

### B5) 밸런싱 체크리스트(빠른 검증용)

-  `Price` 20%↑ 2턴 지속 시 `InfraBoost` 투자 트리거 발생 여부
    
-  `P_rebel` 15%↑ 2턴 지속 시 2.1.4 이벤트 큐 등록
    
-  `FTA` 적용 시 `LogiCost`가 α·DistFactor 기준 최소 10%↓
    
-  `Embargo` 적용 시 `ResourceBonus` 하향과 가격 하한 동시 반영
    

---

### 버전

- v1.0 (2025-10-24): 경제·정치 연동 구조 초판. 파라미터 기본값(κ, α/β/γ, τ 등) 포함.

# 2.3-C. 수치 테이블 샘플 (Numerical Reference Tables v1.0

| 자원명               | 등급  | R_base (단위/턴) | NodeQuality | DepleteRate(기본) | 특징               |
| ----------------- | --- | ------------- | ----------- | --------------- | ---------------- |
| 아디만튼 (Adimantium) | 핵심  | 100           | 1.20        | 0.03            | 금속·합금, 군수산업 기초   |
| 네비트론 (Nebitron)   | 보조  | 60            | 1.00        | 0.02            | 에너지 변환 효율, 발전 연료 |
| 루시움 (Lusium)      | 희귀  | 40            | 0.80        | 0.06            | 고위험·플라즈마 기술 자원   |
| 레비시움 (Levisium)   | 희귀  | 30            | 0.75        | 0.07            | 반중력·입자 장비 기반 소재  |
| 오르멘트 (Orment)     | 특수  | 50            | 0.90        | 0.05            | 정보·AI 코어 제작 재료   |

---
### C2) 행성 개발 레벨 보너스

|개발레벨|인구보정 (PopProd)|기반시설 보너스 (InfraBoost)|연구 보너스 (LevelBonus)|주둔 효율 (GarrisonFactor)|
|---|---|---|---|---|
|Lv0|0.00|0.00|0.00|0.00|
|Lv1|0.05|0.03|0.05|0.05|
|Lv2|0.10|0.08|0.10|0.10|
|Lv3|0.15|0.12|0.15|0.15|
|Lv4|0.20|0.18|0.20|0.20|
|Lv5|0.30|0.25|0.25|0.25|

---
### C3) 위험·거리·치안 보정 계수

|요소|변수명|기본값|설명|
|---|---|---|---|
|거리 계수|DistFactor|0.05/행성|모성계로부터의 점프 거리|
|위험 계수|RiskFactor|0.00~0.30|방사선/기후/반란위험|
|치안 영향|Instability|0.00~1.00|치안 50↓시 가중 증가|
|물류비 상수|α/β/γ|0.05 / 0.20 / 0.25|거리·치안·해적지수 가중치|
### C4) 정책·조약 가중치 세트
| 정책/조약               | 영향 변수               | 기본 가중                     | 비고             |
| ------------------- | ------------------- | ------------------------- | -------------- |
| 무역협정 (FTA)          | τ_trade             | -0.10~-0.20               | 물류비 감소         |
| 제재/봉쇄 (Embargo)     | τ_sanction          | +0.15~+0.40               | 자원 보너스·가격상한    |
| 치안지원 (Security Aid) | δ_garrison / δ_stab | +0.10~+0.30 / -0.10~-0.25 | 안정·주둔 효과       |
| 조세 협약 (Tax Pact)    | TaxRate cap         | ±0.05                     | 세율 상한 조정       |
| 투자명령 (Infra Invest) | InfraBoost          | +0.05                     | 확장 비용 상승 시 대응책 |
| 채굴 억제 (Throttle)    | DepleteRate         | -0.01                     | 과채굴 완화         |
### C5) 검증 시뮬레이션 예시

> **예시 행성**: Lv3 개발, 네비트론 노드(보조), 거리 2, 치안 65  
> **계산:**  
> `Y = (60 × 1.0 × (1 + 0.15 + 0.12)) × (1 - 0.03) = 77.8`  
> → 가격상승률 10% 지속 시 Infra 투자 트리거 발생.

---
## 2.3-D. AI 확장 정책 로직 (Expansion AI Policy Logic v1.0)

> 목적: AI 세력별 행성 확장·자원 점유 정책을 의사결정 구조로 정의하여 2.3-A~C의 수식을 동적으로 활용한다.

### D1) 세력 확장 성향 분류

|세력|성향|확장 우선순위|설명|
|---|---|---|---|
|중방국 (Zhongbang)|공세적 (Aggressive)|자원핵심 > 전략요충 > 인접행성|생산성 중시, 리스크 감수형 확장. DistFactor 무시 경향.|
|연방국 (Federation)|상업적 (Commercial)|무역거점 > 안정행성 > 고치안지역|물류비(LogiCost) 최소화, 무역루프 우선.|
|대본국 (Daebon)|기술중심 (Technocratic)|연구자원 > 안정행성 > 중립지|연구보너스 중심, 루시움·오르멘트 선호.|
|고한여국 (Gohanyeo)|방어적 (Defensive)|본성 인접 > 치안높은행성 > 자원보조|반란리스크 최소화, 치안우선 확장.|
|자유연합 (Free Union)|중립적 (Balanced)|무역+자원 혼합 > 치안|상호보완적 확장, 이벤트 리스크 분산.|
|프리위시 (Freewish)|급진적 (Ideological)|루시움노드 > 치안불안 > 반란행성|반란조장형 확장, 긴장도 상승 트리거.|

---

### D2) 의사결정 루프 (Decision Loop)

**매 턴마다 실행되는 확장 판단 알고리즘 (의사코드)**

``` csharp title:code
for each Faction:

score_planet(p) = w_r*ResourceValue + w_s*Security + w_d*(1/DistFactor) + w_p*PoliticalInterest

if P_rebel(p) > 0.2 and Faction != Freewish:

score_planet(p) -= 0.5 # 반란 위험 감점

if Faction == 'Zhongbang':

score_planet(p) += 0.3 * ResourceValue

elif Faction == 'Federation':

score_planet(p) += 0.3 * (1/LogiCost)

elif Faction == 'Daebon':

score_planet(p) += 0.3 * ResearchBonus

elif Faction == 'Gohanyeo':

score_planet(p) += 0.3 * Security

elif Faction == 'FreeUnion':

score_planet(p) += 0.15 * (Security + ResourceValue)

elif Faction == 'Freewish':

score_planet(p) += 0.5 * Instability # 혼란한 지역 선호

choose top planet by score_planet(p)

if available_resources >= C_expand(selected_planet):

execute expansion(selected_planet)
```

---

### D3) 정책 변수 가중치 (권장)

|   |   |   |
|---|---|---|
|변수|설명|기본가중 (w)|
|ResourceValue|자원 가치|0.35|
|Security|치안 수준|0.25|
|DistFactor|거리비용 역수|0.15|
|PoliticalInterest|정치적 중요도|0.25|

특수 조정:

- **Zhongbang:** ResourceValue +0.1, DistFactor −0.05
    
- **Federation:** Security +0.05, DistFactor +0.05
    
- **Freewish:** Instability +0.2, Security −0.1
    

---

### D4) 행동 후 피드백

- **성공적 확장:** `InfraBoost +0.05`, `Instability +0.02` (치안 부담)
    
- **확장 실패:** `Instability +0.05`, `AIConfidence −0.1`
    
- **반란 지역 확장:** `DepleteRate +0.02`, `P_rebel +0.05` → 2.1.4 이벤트 확률 상승