### **2.7 플레이어 명령 처리 시스템

**버전:** v1.0  
**상태:** 완료

---

#### **개요:**

이 문서는 **STELLAR PROFITS**의 **플레이어 명령 처리 시스템**을 설명합니다. **플레이어**는 **전투** 중에 내리는 명령을 **유닛**에게 전달하는 중요한 역할을 합니다. **명령 처리 시스템**은 **명령을 해석**하고 **유닛**이 **전투**에서 이를 **자동으로 수행**하도록 하는 메커니즘입니다. 이 시스템은 **반턴제** 전투 방식에서 **플레이어의 개입**을 가능하게 하며, **유닛의 자동 행동**과 **플레이어의 명령** 사이의 **상호작용**을 관리합니다.

---

#### **핵심 구성 요소:**

1. **명령 전달 시스템 (Command Delivery System):**
    
    - **플레이어**는 **명령 패널**을 통해 **유닛**에 **명령**을 내립니다. **명령**은 **이동**, **공격**, **방어**, **회복** 등 다양한 **전투 행동**을 포함합니다.
        
    - **명령 처리**는 **턴 종료 전까지** 이루어지며, **유닛은 플레이어가 내린 명령을** 전투 중에 **자동으로 수행**합니다. **턴 전**에 내린 명령은 **턴 종료 후** 유닛이 **자율적으로 실행**합니다.
        
2. **명령 유형 (Command Types):**
    
    - **이동 명령 (Movement Command)**: **유닛**을 특정 **위치로 이동**시키는 명령입니다. **이동 경로**와 **이동 방식**을 지정할 수 있습니다.
        
    - **공격 명령 (Attack Command)**: 적 유닛을 **타겟팅**하고 **공격**하는 명령입니다. **우선순위**와 **타겟 선택**을 조정할 수 있습니다.
        
    - **방어 명령 (Defend Command)**: **유닛**이 특정 지역을 **방어**하거나 **자기 자신을 보호**하는 명령입니다.
        
    - **회복 명령 (Heal Command)**: **유닛**이 **회복**하거나 **치료**하는 명령입니다. **회복** 대상과 **회복 방식**을 지정할 수 있습니다.
        
3. **명령 판단 방식 (Command Judgement Types):**
    
    - **공세적 판단 (Aggressive)**: **적을 추적**하거나 **적의 전투 유닛**을 **우선적으로 타겟팅**하여 공격하는 방식입니다. **공격적**인 스타일로 전투를 이끌어 갑니다.
        
    - **수세적 판단 (Defensive)**: **방어**에 중점을 두며, **자신을 보호**하거나 **안전한 지역으로 후퇴**하는 방식입니다. **자기 방어**와 **자원 보호**에 집중합니다.
        
    - **임의 판단 (Random)**: **AI**의 판단에 따라 **공격과 방어**를 자동으로 균형 있게 진행합니다. 이 방식은 **리더의 성격**에 따라 달라집니다.
        
4. **명령 해석 시스템 (Command Interpretation System):**
    
    - **명령 해석**은 **플레이어의 지시**가 **유닛**의 **행동으로 전환**되는 과정을 포함합니다. **전투 시스템**은 **명령 해석**을 통해 **유닛의 행동**을 **실시간으로 자동 처리**합니다.
        
    - **유닛의 상태**나 **전투 환경**에 따라 **명령 해석**의 **우선순위**가 달라지며, **전략적 상황**을 고려하여 **명령이 실행**됩니다.
        

---

#### **유닛 행동 및 AI 시스템:**

1. **유닛의 자율 행동 (Autonomous Unit Behavior):**
    
    - **플레이어가 명령을 내리기 전까지** 유닛은 **자동으로 행동**합니다. **유닛의 성격**이나 **병종**에 따라 **행동 방식**이 달라집니다.
        
        - 예를 들어, **공격적인 병종**은 **적을 추적**하거나 **공격적인 전략**을 취하고, **방어적인 병종**은 **자기 방어**에 집중합니다.
            
    - **유닛의 특수 능력**은 **명령을 보조**하거나 **유닛의 행동을 강화**하는 데 활용됩니다.
        
2. **AI 전투 판단 (AI Combat Judgement):**
    
    - **AI는 전투 중** 상황에 따라 **전략적 판단**을 내립니다. 이는 **유닛의 성격**, **전투 환경**, **명령 우선순위**에 따라 달라집니다.
        
        - **공격 우선**: 적의 **전투력**을 감소시키기 위해 **공격적인 행동**을 우선적으로 취합니다.
            
        - **방어 우선**: **자기 방어**와 **전략적 후퇴**를 통해 전투를 안정적으로 관리합니다.
            
        - **회복 우선**: **부상**한 유닛을 **회복**하고 **전투력을 회복**하는 데 집중합니다.
            
3. **AI 행동 제어 (AI Behavior Control):**
    
    - **AI 유닛**은 **플레이어가 내린 명령**을 **우선순위**에 맞춰 실행하며, **전략적 상황**에 따라 **자율적으로 행동**합니다.
        
    - **전투 상황**에 따라 **AI는 실시간으로 전술을 변경**하거나, **적의 공격을 회피**하고, **후퇴**하는 전략적 판단을 내릴 수 있습니다.
        

---

#### **플레이어 명령과 유닛의 상호작용:**

1. **명령 우선순위 (Command Priority):**
    
    - **플레이어의 명령**은 **유닛의 AI 행동**에 우선적으로 적용됩니다. 예를 들어, **공격 명령**은 **방어 명령**보다 우선적으로 실행됩니다.
        
    - **명령의 중요도**에 따라 **유닛의 행동**이 달라지며, **플레이어의 개입**이 중요한 역할을 합니다.
        
2. **명령 수정 및 실시간 개입 (Command Modification & Real-Time Intervention):**
    
    - **플레이어**는 **전투 중**에 **유닛의 행동**을 **실시간으로 수정**하거나 **새로운 명령을 내리**는 **개입**을 할 수 있습니다.
        
        - **예시**: **공격 명령** 중 **후퇴 명령**을 내리거나, **회복 명령**을 우선 적용할 수 있습니다.
            
3. **유닛의 특수 능력 (Unit Special Abilities):**
    
    - 각 **유닛**은 **특수 능력**을 보유하고 있으며, **특수 능력**은 **명령과 상호작용**하여 유닛의 성과를 높이거나, **전투 상황**에 맞게 **보조 역할**을 수행합니다.
        
        - **예시**: **저격병**은 **고정된 명령**을 받았을 때 **정확도**와 **사거리**에서 우위를 점할 수 있으며, **돌격병**은 **돌격** 명령을 받을 때 **속도**와 **방어 무시** 능력을 활용하여 적을 압박할 수 있습니다.
            

---

#### **UI/UX 및 게임 내 인터페이스:**

1. **명령 입력 인터페이스 (Command Input Interface):**
    
    - **플레이어**는 **명령 패널**을 통해 **유닛에게 명령**을 내립니다. **UI**는 **단일 클릭** 또는 **드래그 앤 드롭** 방식으로 **유닛의 행동**을 지정할 수 있게 설계됩니다.
        
    - **명령 아이콘**을 클릭하여 **이동**, **공격**, **방어**, **회복** 명령을 설정할 수 있으며, **명령의 우선순위**와 **타겟 설정**이 가능합니다.
        
2. **전투 상태 표시 (Battle Status Display):**
    
    - **전투 상태**는 **유닛의 체력**, **명령 상태**, **우선순위 설정** 등을 시각적으로 **실시간**으로 확인할 수 있는 **상태창**을 제공합니다.
        
    - **전투 종료 후**에는 **유닛의 행동 결과**와 **전투 성과**가 표시됩니다.
        
3. **AI 행동 분석 (AI Behavior Analysis):**
    
    - **AI의 전투 판단**은 **전투 후** 또는 **실시간으로 분석**하여, **유닛의 행동 경로**와 **명령 이행 상태**를 **게임 내 리포트**로 제공합니다.
        

---

#### **결론:**

**2.7 플레이어 명령 처리 시스템**은 **STELLAR PROFITS**의 **반턴제 전투 시스템**에서 **플레이어의 개입**과 **유닛의 자율적 행동**을 결합하는 중요한 시스템입니다. **플레이어**는 **유닛에 명령**을 내리고, **유닛의 AI**는 **전략적 판단**을 내리며 **전투 상황**을 최적화합니다. 이 시스템은 **게임 내 전략적 깊이**를 더하고, **플레이어의 전투 참여**를 강화하는 중요한 역할을 합니다.


### **보완부분 (To Be Improved):**

1. **명령 유형 및 내용 수정 필요:**
    
    - **플레이어**가 명령을 내리는 방식이 **카드 덱** 시스템에 기반하고 있음을 반영하여, **명령 유형**과 **명령 처리 시스템**의 상세 내용을 **덱 시스템**에 맞게 수정해야 합니다.
        
    - **명령 카드**의 **카드 선택**과 **우선순위 설정**에 대한 구체적인 **시스템 설계**가 추가되어야 합니다.